# 小红书MCP项目环境变量配置模板
# 复制此文件为 .env 并根据实际情况修改

# ==========================================
# 应用配置
# ==========================================
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# ==========================================
# 数据库配置
# ==========================================
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password_here
DB_NAME=xiaohongshu_mcp
DB_CONNECTION_LIMIT=10
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000

# ==========================================
# Redis配置（可选）
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=xiaohongshu:

# ==========================================
# 日志配置
# ==========================================
LOG_LEVEL=info
LOG_DIR=./logs
LOG_MAX_FILES=5
LOG_MAX_SIZE=10485760

# ==========================================
# 浏览器配置
# ==========================================
BROWSER_HEADLESS=false
BROWSER_TIMEOUT=30000
BROWSER_SLOW_MO=100
BROWSER_VIEWPORT_WIDTH=1920
BROWSER_VIEWPORT_HEIGHT=1080
BROWSER_USER_DATA_DIR=./user_data
BROWSER_EXECUTABLE_PATH=

# ==========================================
# 反风控配置
# ==========================================
FINGERPRINT_ENABLED=true
FINGERPRINT_RANDOMIZE=true
FINGERPRINT_USER_AGENT=
FINGERPRINT_MIN_WIDTH=1024
FINGERPRINT_MAX_WIDTH=1920
FINGERPRINT_MIN_HEIGHT=768
FINGERPRINT_MAX_HEIGHT=1080

# 行为模拟
MOUSE_SIMULATION=true
MOUSE_SPEED=50
MOUSE_RANDOMNESS=20

KEYBOARD_SIMULATION=true
KEYBOARD_SPEED=100
KEYBOARD_RANDOMNESS=50

SCROLL_SIMULATION=true
SCROLL_SPEED=30
SCROLL_RANDOMNESS=10

# 延迟配置
DELAY_PAGE_LOAD=2000
DELAY_ACTION=1000
DELAY_TYPING=100
DELAY_SCROLL=500
DELAY_RANDOM_MIN=500
DELAY_RANDOM_MAX=2000

# ==========================================
# 代理配置
# ==========================================
PROXY_ENABLED=false
PROXY_ROTATION=false
PROXY_TYPE=http
PROXY_TIMEOUT=10000
PROXY_MAX_RETRIES=3

# 代理健康检查
PROXY_HEALTH_CHECK=true
PROXY_HEALTH_INTERVAL=300000
PROXY_HEALTH_TIMEOUT=5000

# ==========================================
# MCP配置
# ==========================================
MCP_AUTH_ENABLED=false
MCP_AUTH_SECRET=your-secret-key-here
MCP_TOKEN_EXPIRY=3600

# ==========================================
# 任务配置
# ==========================================
TASK_MAX_CONCURRENT=5
TASK_MAX_RETRIES=3
TASK_RETRY_DELAY=5000
TASK_TIMEOUT=300000
TASK_CLEANUP_INTERVAL=3600000
TASK_MAX_HISTORY=1000

# ==========================================
# 监控配置
# ==========================================
MONITORING_ENABLED=true
MONITORING_INTERVAL=60000
MONITOR_MEMORY=true
MONITOR_CPU=true
MONITOR_NETWORK=true
MONITOR_BROWSER=true

# 告警配置
ALERTS_ENABLED=false
ALERT_WEBHOOK=
ALERT_EMAIL=

# ==========================================
# 数据收集配置
# ==========================================
COLLECTION_BATCH_SIZE=50
COLLECTION_MAX_DEPTH=3

# 速率限制
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000

# 过滤配置
FILTER_MIN_FOLLOWERS=100
FILTER_MAX_FOLLOWERS=1000000
FILTER_KEYWORDS=
FILTER_EXCLUDE_KEYWORDS=

# ==========================================
# 安全配置
# ==========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
CORS_ORIGIN=http://localhost:3000,http://localhost:8080
CORS_CREDENTIALS=true
HELMET_ENABLED=true

# ==========================================
# 缓存配置
# ==========================================
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_STRATEGY=lru

# ==========================================
# 存储配置
# ==========================================
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=./uploads

# S3配置
S3_REGION=us-east-1
S3_BUCKET=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# OSS配置
OSS_REGION=oss-cn-hangzhou
OSS_BUCKET=
OSS_ACCESS_KEY_ID=
OSS_SECRET_ACCESS_KEY=

# ==========================================
# 通知配置
# ==========================================
# 邮件通知
EMAIL_ENABLED=false
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=
EMAIL_PASS=
EMAIL_FROM=

# Webhook通知
WEBHOOK_ENABLED=false
WEBHOOK_URL=
WEBHOOK_SECRET=

# ==========================================
# 开发工具配置
# ==========================================
# 开发模式
DEV_TOOLS_ENABLED=true
HOT_RELOAD=true

# 测试配置
TEST_TIMEOUT=30000
TEST_HEADLESS=true